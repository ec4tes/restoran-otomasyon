<UserControl x:Class="RestoranOtomasyon.Views.SifirlamaView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:local="clr-namespace:RestoranOtomasyon.Views"
             mc:Ignorable="d"
             Background="Transparent">
    
    <UserControl.Resources>
        <BooleanToVisibilityConverter x:Key="BoolToVisibilityConverter"/>
        <local:BoolToSuccessColorConverter x:Key="BoolToColorConverter"/>
        
        <Style x:Key="DangerButtonStyle" TargetType="Button">
            <Setter Property="Background" Value="#f38ba8"/>
            <Setter Property="Foreground" Value="#1e1e2e"/>
            <Setter Property="FontSize" Value="14"/>
            <Setter Property="FontWeight" Value="Bold"/>
            <Setter Property="Padding" Value="20,12"/>
            <Setter Property="BorderThickness" Value="0"/>
            <Setter Property="Cursor" Value="Hand"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border Background="{TemplateBinding Background}" 
                                CornerRadius="8"
                                Padding="{TemplateBinding Padding}">
                            <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                        </Border>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
            <Style.Triggers>
                <Trigger Property="IsMouseOver" Value="True">
                    <Setter Property="Background" Value="#eba0ac"/>
                </Trigger>
                <Trigger Property="IsEnabled" Value="False">
                    <Setter Property="Background" Value="#45475a"/>
                    <Setter Property="Foreground" Value="#6c7086"/>
                </Trigger>
            </Style.Triggers>
        </Style>
        
        <Style x:Key="WarningButtonStyle" TargetType="Button">
            <Setter Property="Background" Value="#fab387"/>
            <Setter Property="Foreground" Value="#1e1e2e"/>
            <Setter Property="FontSize" Value="14"/>
            <Setter Property="FontWeight" Value="Bold"/>
            <Setter Property="Padding" Value="20,12"/>
            <Setter Property="BorderThickness" Value="0"/>
            <Setter Property="Cursor" Value="Hand"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border Background="{TemplateBinding Background}" 
                                CornerRadius="8"
                                Padding="{TemplateBinding Padding}">
                            <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                        </Border>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
            <Style.Triggers>
                <Trigger Property="IsMouseOver" Value="True">
                    <Setter Property="Background" Value="#f9e2af"/>
                </Trigger>
                <Trigger Property="IsEnabled" Value="False">
                    <Setter Property="Background" Value="#45475a"/>
                    <Setter Property="Foreground" Value="#6c7086"/>
                </Trigger>
            </Style.Triggers>
        </Style>
        
        <Style x:Key="CardStyle" TargetType="Border">
            <Setter Property="Background" Value="#313244"/>
            <Setter Property="CornerRadius" Value="12"/>
            <Setter Property="Padding" Value="20"/>
            <Setter Property="Margin" Value="10"/>
        </Style>
        
        <Style x:Key="StatCardStyle" TargetType="Border">
            <Setter Property="Background" Value="#45475a"/>
            <Setter Property="CornerRadius" Value="8"/>
            <Setter Property="Padding" Value="15"/>
            <Setter Property="Margin" Value="5"/>
        </Style>
    </UserControl.Resources>
    
    <ScrollViewer VerticalScrollBarVisibility="Auto">
        <Grid Margin="20">
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
            </Grid.RowDefinitions>
            
            <!-- BaÅŸlÄ±k ve Ä°statistikler -->
            <Border Grid.Row="0" Style="{StaticResource CardStyle}">
                <StackPanel>
                    <TextBlock Text="ðŸ“Š VeritabanÄ± Durumu" FontSize="18" FontWeight="Bold" Foreground="#cdd6f4" Margin="0,0,0,15"/>
                    
                    <UniformGrid Columns="3" Rows="2">
                        <Border Style="{StaticResource StatCardStyle}">
                            <StackPanel HorizontalAlignment="Center">
                                <TextBlock Text="ðŸ“ Kategoriler" Foreground="#bac2de" FontSize="12"/>
                                <TextBlock Text="{Binding Istatistikler.KategoriSayisi}" Foreground="#89b4fa" FontSize="24" FontWeight="Bold" HorizontalAlignment="Center"/>
                            </StackPanel>
                        </Border>
                        <Border Style="{StaticResource StatCardStyle}">
                            <StackPanel HorizontalAlignment="Center">
                                <TextBlock Text="ðŸ• ÃœrÃ¼nler" Foreground="#bac2de" FontSize="12"/>
                                <TextBlock Text="{Binding Istatistikler.UrunSayisi}" Foreground="#a6e3a1" FontSize="24" FontWeight="Bold" HorizontalAlignment="Center"/>
                            </StackPanel>
                        </Border>
                        <Border Style="{StaticResource StatCardStyle}">
                            <StackPanel HorizontalAlignment="Center">
                                <TextBlock Text="ðŸ“ Adisyonlar" Foreground="#bac2de" FontSize="12"/>
                                <TextBlock Text="{Binding Istatistikler.AdisyonSayisi}" Foreground="#f9e2af" FontSize="24" FontWeight="Bold" HorizontalAlignment="Center"/>
                            </StackPanel>
                        </Border>
                        <Border Style="{StaticResource StatCardStyle}">
                            <StackPanel HorizontalAlignment="Center">
                                <TextBlock Text="ðŸ‘¥ KullanÄ±cÄ±lar" Foreground="#bac2de" FontSize="12"/>
                                <TextBlock Text="{Binding Istatistikler.KullaniciSayisi}" Foreground="#cba6f7" FontSize="24" FontWeight="Bold" HorizontalAlignment="Center"/>
                            </StackPanel>
                        </Border>
                        <Border Style="{StaticResource StatCardStyle}">
                            <StackPanel HorizontalAlignment="Center">
                                <TextBlock Text="ðŸª‘ Masalar" Foreground="#bac2de" FontSize="12"/>
                                <TextBlock Text="{Binding Istatistikler.MasaSayisi}" Foreground="#94e2d5" FontSize="24" FontWeight="Bold" HorizontalAlignment="Center"/>
                            </StackPanel>
                        </Border>
                        <Border Style="{StaticResource StatCardStyle}">
                            <StackPanel HorizontalAlignment="Center">
                                <TextBlock Text="ðŸ’° Toplam SatÄ±ÅŸ" Foreground="#bac2de" FontSize="12"/>
                                <TextBlock Text="{Binding Istatistikler.ToplamSatis, StringFormat=â‚º{0:N2}}" Foreground="#a6e3a1" FontSize="20" FontWeight="Bold" HorizontalAlignment="Center"/>
                            </StackPanel>
                        </Border>
                    </UniformGrid>
                </StackPanel>
            </Border>
            
            <!-- SÄ±fÄ±rlama SeÃ§enekleri -->
            <StackPanel Grid.Row="1">
                <!-- ÃœrÃ¼nleri SÄ±fÄ±rla -->
                <Border Style="{StaticResource CardStyle}">
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="Auto"/>
                        </Grid.ColumnDefinitions>
                        
                        <StackPanel Grid.Column="0">
                            <TextBlock Text="ðŸ• ÃœrÃ¼nleri SÄ±fÄ±rla" FontSize="16" FontWeight="Bold" Foreground="#fab387"/>
                            <TextBlock Text="TÃ¼m Ã¼rÃ¼nleri ve kategorileri siler. Adisyon kalemleri de temizlenir." 
                                       Foreground="#bac2de" TextWrapping="Wrap" Margin="0,5,0,0"/>
                            <TextBlock Text="âš ï¸ Bu iÅŸlem geri alÄ±namaz!" Foreground="#f38ba8" FontSize="12" Margin="0,5,0,0"/>
                        </StackPanel>
                        
                        <Button Grid.Column="1" 
                                Content="ðŸ—‘ï¸ ÃœrÃ¼nleri Sil"
                                Command="{Binding UrunleriSifirlaCommand}"
                                Style="{StaticResource WarningButtonStyle}"
                                VerticalAlignment="Center"/>
                    </Grid>
                </Border>
                
                <!-- AdisyonlarÄ± SÄ±fÄ±rla -->
                <Border Style="{StaticResource CardStyle}">
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="Auto"/>
                        </Grid.ColumnDefinitions>
                        
                        <StackPanel Grid.Column="0">
                            <TextBlock Text="ðŸ“ AdisyonlarÄ± SÄ±fÄ±rla" FontSize="16" FontWeight="Bold" Foreground="#fab387"/>
                            <TextBlock Text="TÃ¼m satÄ±ÅŸ geÃ§miÅŸini, adisyonlarÄ±, gÃ¼n sonu kayÄ±tlarÄ±nÄ± ve giderleri siler." 
                                       Foreground="#bac2de" TextWrapping="Wrap" Margin="0,5,0,0"/>
                            <TextBlock Text="âš ï¸ Raporlar sÄ±fÄ±rlanacak! Bu iÅŸlem geri alÄ±namaz!" Foreground="#f38ba8" FontSize="12" Margin="0,5,0,0"/>
                        </StackPanel>
                        
                        <Button Grid.Column="1" 
                                Content="ðŸ—‘ï¸ AdisyonlarÄ± Sil"
                                Command="{Binding AdisyonlariSifirlaCommand}"
                                Style="{StaticResource WarningButtonStyle}"
                                VerticalAlignment="Center"/>
                    </Grid>
                </Border>
                
                <!-- Fabrika AyarlarÄ± -->
                <Border Style="{StaticResource CardStyle}" BorderBrush="#f38ba8" BorderThickness="2">
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="Auto"/>
                        </Grid.ColumnDefinitions>
                        
                        <StackPanel Grid.Column="0">
                            <TextBlock Text="ðŸ”¥ Fabrika AyarlarÄ±na DÃ¶n" FontSize="16" FontWeight="Bold" Foreground="#f38ba8"/>
                            <TextBlock Text="TÃœM VERÄ°LERÄ° siler! Sadece admin kullanÄ±cÄ± ve varsayÄ±lan masalar kalÄ±r." 
                                       Foreground="#bac2de" TextWrapping="Wrap" Margin="0,5,0,0"/>
                            <TextBlock Text="ðŸš¨ DÄ°KKAT: ÃœrÃ¼nler, kategoriler, kullanÄ±cÄ±lar, masalar, satÄ±ÅŸlar - HER ÅžEY silinecek!" 
                                       Foreground="#f38ba8" FontWeight="Bold" FontSize="12" Margin="0,5,0,0"/>
                        </StackPanel>
                        
                        <Button Grid.Column="1" 
                                Content="ðŸ’€ HER ÅžEYÄ° SÄ°L"
                                Command="{Binding FabrikaAyarlariCommand}"
                                Style="{StaticResource DangerButtonStyle}"
                                VerticalAlignment="Center"/>
                    </Grid>
                </Border>
            </StackPanel>
            
            <!-- Durum MesajÄ± -->
            <Border Grid.Row="2" Style="{StaticResource CardStyle}" 
                    Visibility="{Binding HasMessage, Converter={StaticResource BoolToVisibilityConverter}}">
                <TextBlock Text="{Binding StatusMessage}" 
                           Foreground="{Binding IsSuccess, Converter={StaticResource BoolToColorConverter}}"
                           FontSize="14" 
                           FontWeight="SemiBold"
                           HorizontalAlignment="Center"/>
            </Border>
        </Grid>
    </ScrollViewer>
</UserControl>
